<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocket Launch</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
        :root {
            --sky-height: 400px;
            --rocket-start-bottom: 5%;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .screen {
            width: 95%;
            max-width: 1000px;
            padding: 20px 40px 40px 40px;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #game-screen { display: none; }

        .title { font-size: 40px; font-weight: bold; margin-bottom: 10px; }
        .subtitle { font-size: 20px; margin-bottom: 10px; }

        .game-header {
            display: flex;
            width: 100%;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .counter, #timer-display, #lives-container {
            font-size: 24px;
            font-weight: bold;
            flex: 1;
            text-align: center;
        }

        .english-sentence {
            margin-bottom: 20px;
            font-size: 20px;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 10px;
            background: #f9f9f9;
            width: 100%;
            text-align: center;
        }

        #sky-container {
            position: relative;
            width: 100%;
            height: var(--sky-height);
            background: linear-gradient(to top, #d4e8ff, #a3cfff);
            border: 2px solid #aaa;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        #rocket-img {
            position: absolute;
            width: 60px;
            left: 50%;
            bottom: var(--rocket-start-bottom);
            transform: translateX(-50%);
            transition: bottom 0.5s ease-in-out, transform 0.5s ease-in-out;
            z-index: 10;
        }

        #rocket-img.crash {
            bottom: -150px;
            transform: translateX(-50%) rotate(45deg);
            transition-duration: 1s;
        }

        #rocket-img.launch {
            bottom: calc(var(--sky-height) + 200px);
            transform: translateX(-50%);
            transition-duration: 1.5s;
        }

        #cloud-area-wrapper {
            position: absolute;
            inset: 0;
            overflow: hidden;
        }

        .cloud-option {
            position: absolute;
            z-index: 5;
            padding: 20px 30px;
            cursor: pointer;
            white-space: nowrap;
            font-size: 18px;
            animation: float 4s ease-in-out infinite;
        }

        .cloud-option::before {
            content: '';
            position: absolute;
            top: 5px; left: 5px; right: 5px; bottom: 5px;
            background: #fff;
            border-radius: 50px;
            z-index: -1;
            box-shadow:
                -35px 0 0 0 #fff,
                30px -10px 0 -5px #fff,
                0 -20px 0 -5px #fff,
                0 6px 12px rgba(0,0,0,0.2);
        }

        .cloud-option:hover { transform: translateY(-8px); }

        .cloud-option.wrong::before {
            background: #f8d7da;
            box-shadow:
                -35px 0 0 0 #f8d7da,
                30px -10px 0 -5px #f8d7da,
                0 -20px 0 -5px #f8d7da,
                0 6px 12px rgba(0,0,0,0.2);
        }

        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
            100% { transform: translateY(0); }
        }

        .btn {
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 10px;
            border: 2px solid #ccc;
            background: #f9f9f9;
            cursor: pointer;
        }

        .hide { display: none; }
    </style>
</head>
<body>

<div id="game-screen" class="screen">
    <div class="title">Rocket Launch</div>
    <div class="subtitle" id="subtitle">Translate the sentence word by word.</div>

    <div class="game-header">
        <div class="counter" id="sentenceCounter"></div>
        <div id="timer-display">1:00</div>
        <div id="lives-container"></div>
    </div>

    <div class="english-sentence" id="english-sentence"></div>

    <div id="sky-container">
        <img id="rocket-img" src="https://adaligand.github.io/Textify/Sentences/rocket.png">
        <div id="cloud-area-wrapper"></div>
    </div>

    <div id="feedback" class="hide"></div>

    <div id="button-pen" class="hide">
        <button id="nextButton" class="btn" onclick="nextText()">Next</button>
    </div>
</div>

<div id="end-screen" class="screen hide">
    <h2 class="title" id="end-title"></h2>
    <div class="subtitle" id="end-subtitle"></div>
    <button class="btn" onclick="resetActivity()">Restart</button>
</div>

<script>
/* ——————————————————————————————————————————
   Your existing JS logic unchanged except here:
   displayNextWordOptions() NOW creates 6 clouds:
   3 left side + 3 right side – NO MIDDLE CLOUDS.
—————————————————————————————————————————— */

function displayNextWordOptions() {
    cloudAreaWrapper.innerHTML = '';

    let correctAnswer = originalChunks[currentChunkIndex].join(' ');
    let options = [correctAnswer];

    while (options.length < 6) {
        let w = allFrenchWords[Math.floor(Math.random()*allFrenchWords.length)];
        if (!options.includes(w)) options.push(w);
    }

    shuffleArray(options);

    // 3 left-side positions, 3 right-side positions
    const leftPositions = [
        { top: '10%', left: '5%' },
        { top: '40%', left: '8%' },
        { top: '70%', left: '6%' }
    ];

    const rightPositions = [
        { top: '20%', left: '72%' },
        { top: '50%', left: '75%' },
        { top: '80%', left: '70%' }
    ];

    shuffleArray(leftPositions);
    shuffleArray(rightPositions);

    const positions = [...leftPositions, ...rightPositions];

    options.forEach((txt, i) => {
        let cloud = document.createElement('div');
        cloud.classList.add('cloud-option');
        cloud.textContent = txt;
        cloud.dataset.isCorrect = (txt === correctAnswer);
        cloud.onclick = function() { checkAnswer(this); };

        cloud.style.top = positions[i].top;
        cloud.style.left = positions[i].left;

        cloudAreaWrapper.appendChild(cloud);
    });

    let progress = currentChunkIndex / originalChunks.length;
    rocket.style.bottom = (5 + progress*80) + '%';
}

/* ——————————————————————————————————————————
   EVERYTHING ELSE IS YOUR ORIGINAL SCRIPT
—————————————————————————————————————————— */

// The rest of your JS functions stay exactly the same…

// (KEEP ALL YOUR ORIGINAL JS BELOW THIS LINE)
/* ------------------------------------------------- */
/* I am collapsing your long unchanged JS for clarity.
   If you want, I can paste the full expanded version. */
</script>

</body>
</html>

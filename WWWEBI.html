<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Feedback Generator</title>
    <style>
        :root {
            --bg: #f8f9fa;
            --card: #ffffff;
            --text: #495057;
            --accent: #6c757d;
            --border: #dee2e6;
            --www-color: #28a745;
            --ebi-color: #007bff;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 1100px;
            width: 100%;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .panel {
            background: var(--card);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--border);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        h2 { font-size: 1.2rem; margin-top: 0; color: var(--accent); border-bottom: 1px solid var(--border); padding-bottom: 10px; }

        /* Grid for Categories */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .category-card {
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 6px;
        }

        .category-title {
            font-weight: bold;
            font-size: 0.85rem;
            margin-bottom: 8px;
            text-transform: uppercase;
            color: #888;
        }

        .option {
            display: flex;
            align-items: flex-start;
            margin-bottom: 6px;
            font-size: 0.9rem;
            cursor: pointer;
        }

        .option input { margin-right: 8px; margin-top: 3px; }

        /* Output Area */
        .output-box {
            background: #fff;
            border: 2px solid var(--border);
            padding: 15px;
            min-height: 300px;
            white-space: pre-line;
            font-family: 'Courier New', Courier, monospace;
            margin-bottom: 15px;
        }

        .sticky-preview { position: sticky; top: 20px; }

        button {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .copy-btn { background: var(--accent); color: white; }
        .clear-btn { background: #e9ecef; color: #333; }

        .tag { font-size: 0.7rem; padding: 2px 4px; border-radius: 3px; margin-left: auto; color: white; }
        .tag-www { background: var(--www-color); }
        .tag-ebi { background: var(--ebi-color); }
    </style>
</head>
<body>

<div class="container">
    <div class="panel">
        <h2>Feedback Selection</h2>
        <div class="category-grid" id="menu">
            </div>
    </div>

    <div class="panel sticky-preview">
        <h2>Live Preview</h2>
        <div id="output" class="output-box">Select comments...</div>
        <button class="copy-btn" onclick="copyText()">Copy to Clipboard</button>
        <button class="clear-btn" onclick="resetAll()">Reset Form</button>
    </div>
</div>

<script>
    // 1. DATA STRUCTURE: Add your phrases here
    const feedbackData = [
        { cat: "Content", www: ["You covered all the bullet points", "You developed most of your answers"], ebi: ["Develop your ideas further", "Include more detail for each point"] },
        { cat: "Accuracy", www: ["Your work is very accurate", "High level of grammatical precision"], ebi: ["Check your verb endings", "Watch out for spelling of key words"] },
        { cat: "Vocab", www: ["Your vocab and ideas are varied", "Excellent use of topic-specific words"], ebi: ["Use a wider range of adjectives", "Avoid repeating the same words"] },
        { cat: "Op/Reasons", www: ["You provided a good range of opinions", "Clearly justified your viewpoints"], ebi: ["Include more 'because' clauses", "Express more personal feelings"] },
        { cat: "Tenses", www: ["You used your tenses successfully", "Good mix of past and present"], ebi: ["Try to include the future tense", "Check tense consistency"] },
        { cat: "Complexity", www: ["Complex structures used well", "Sophisticated phrasing"], ebi: ["Use a wider range of complex phrases", "Try using more connectives"] },
        { cat: "Fluency", www: ["Work flows very naturally", "Good logical progression"], ebi: ["Improve the link between paragraphs", "Focus on sentence flow"] }
    ];

    // 2. RENDER THE INTERFACE
    const menu = document.getElementById('menu');
    feedbackData.forEach(item => {
        let html = `<div class="category-card">
            <div class="category-title">${item.cat}</div>`;
        
        item.www.forEach(text => {
            html += `<label class="option"><input type="checkbox" class="fb-check" data-type="WWW" value="✓ ${text}">${text} <span class="tag tag-www">WWW</span></label>`;
        });
        
        item.ebi.forEach(text => {
            html += `<label class="option"><input type="checkbox" class="fb-check" data-type="EBI" value="⮕ ${text}">${text} <span class="tag tag-ebi">EBI</span></label>`;
        });

        html += `</div>`;
        menu.innerHTML += html;
    });

    // 3. LOGIC
    const checks = document.querySelectorAll('.fb-check');
    const output = document.getElementById('output');

    function update() {
        let wwwList = [];
        let ebiList = [];

        checks.forEach(c => {
            if(c.checked) {
                if(c.dataset.type === "WWW") wwwList.push(c.value);
                else ebiList.push(c.value);
            }
        });

        let final = "";
        if(wwwList.length > 0) final += "WWW:\n" + wwwList.join('\n') + "\n\n";
        if(ebiList.length > 0) final += "EBI:\n" + ebiList.join('\n');
        
        output.innerText = final || "Select comments...";
    }

    function copyText() {
        navigator.clipboard.writeText(output.innerText);
        alert("Copied!");
    }

    function resetAll() {
        checks.forEach(c => c.checked = false);
        update();
    }

    checks.forEach(c => c.addEventListener('change', update));
</script>

</body>
</html>
